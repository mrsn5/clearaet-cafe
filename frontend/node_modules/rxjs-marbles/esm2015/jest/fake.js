import { asapScheduler, asyncScheduler } from "rxjs";
export function fakeSchedulers(fakeTest) {
    return () => {
        try {
            let fakeTime = 0;
            asapScheduler.schedule = asyncScheduler.schedule.bind(asyncScheduler);
            asyncScheduler.now = () => fakeTime;
            return fakeTest(milliseconds => {
                fakeTime += milliseconds;
                jest.advanceTimersByTime(milliseconds);
            });
        }
        finally {
            delete asapScheduler.schedule;
            delete asyncScheduler.now;
        }
    };
}
