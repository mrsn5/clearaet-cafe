{"version":3,"file":"rxjs-pausable.umd.js","sources":["../src/rxjs-pausable.ts"],"sourcesContent":["import { Observable, NEVER, BehaviorSubject } from 'rxjs'\nimport { switchMap, materialize, dematerialize } from 'rxjs/operators'\n\nexport class PausableObservable<T> extends Observable<T> {\n  private pauser: BehaviorSubject<boolean>\n\n  pause() {\n    this.pauser.next(true)\n  }\n\n  resume() {\n    this.pauser.next(false)\n  }\n}\n\nexport function pausable() {\n  return function pauseFn<T>(source: Observable<T>) {\n    const pausableProto = PausableObservable.prototype\n\n    const pauser = new BehaviorSubject(false)\n    const newSource = pauser.pipe(\n      switchMap(paused => (paused ? NEVER : source.pipe(materialize()))),\n      dematerialize()\n    )\n\n    const pausable: any = Object.create(newSource, {\n      pause: { value: pausableProto.pause },\n      resume: { value: pausableProto.resume },\n      pauser: { value: pauser }\n    })\n    return pausable as PausableObservable<T>\n  }\n}\n"],"names":["tslib_1.__extends","Observable","BehaviorSubject","switchMap","NEVER","materialize","dematerialize"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAG2CA,sCAAa;QAAxD;;SAUC;QAPC,kCAAK,GAAL;YACE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;SACvB;QAED,mCAAM,GAAN;YACE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;SACxB;QACH,yBAAC;IAAD,CAVA,CAA2CC,eAAU,GAUpD;aAEe,QAAQ;QACtB,OAAO,SAAS,OAAO,CAAI,MAAqB;YAC9C,IAAM,aAAa,GAAG,kBAAkB,CAAC,SAAS,CAAA;YAElD,IAAM,MAAM,GAAG,IAAIC,oBAAe,CAAC,KAAK,CAAC,CAAA;YACzC,IAAM,SAAS,GAAG,MAAM,CAAC,IAAI,CAC3BC,mBAAS,CAAC,UAAA,MAAM,IAAI,QAAC,MAAM,GAAGC,UAAK,GAAG,MAAM,CAAC,IAAI,CAACC,qBAAW,EAAE,CAAC,IAAC,CAAC,EAClEC,uBAAa,EAAE,CAChB,CAAA;YAED,IAAM,QAAQ,GAAQ,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE;gBAC7C,KAAK,EAAE,EAAE,KAAK,EAAE,aAAa,CAAC,KAAK,EAAE;gBACrC,MAAM,EAAE,EAAE,KAAK,EAAE,aAAa,CAAC,MAAM,EAAE;gBACvC,MAAM,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE;aAC1B,CAAC,CAAA;YACF,OAAO,QAAiC,CAAA;SACzC,CAAA;IACH,CAAC;;;;;;;;;;;;;"}